<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quran Video Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        }

        h1 {
            text-align: center;
            color: #1e3c72;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .warning {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            color: #856404;
        }

        .warning strong {
            color: #d32f2f;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group.full {
            grid-column: 1 / -1;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: border 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #1e3c72;
        }

        button {
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            margin-top: 20px;
        }

        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(30, 60, 114, 0.3);
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        #status {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            display: none;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #1e3c72 0%, #2a5298 100%);
            width: 0%;
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .video-preview {
            margin-top: 20px;
            text-align: center;
        }

        video {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .download-btn {
            background: #4caf50;
            margin-top: 20px;
        }

        .download-btn:hover {
            background: #45a049;
        }

        canvas {
            display: none;
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé¨ Quran Video Generator</h1>
        <p class="subtitle">Create beautiful Quran videos with subtitles</p>

        <div class="warning">
            <strong>‚ö†Ô∏è Browser Limitation:</strong> This generates video clips in your browser. 
            Complex videos may take time. For better performance, use the desktop app.
            <br><strong>Note:</strong> Audio will be embedded but video generation is simplified for web.
        </div>

        <div class="form-grid">
            <div class="form-group">
                <label for="surah">Surah Number:</label>
                <input type="number" id="surah" value="1" min="1" max="114">
            </div>

            <div class="form-group">
                <label for="ayahFrom">From Ayah:</label>
                <input type="number" id="ayahFrom" value="1" min="1">
            </div>

            <div class="form-group">
                <label for="ayahTo">To Ayah:</label>
                <input type="number" id="ayahTo" value="7" min="1">
            </div>

            <div class="form-group">
                <label for="reciter">Reciter:</label>
                <select id="reciter">
                    <option value="ar.alafasy">Mishary Alafasy</option>
                    <option value="ar.husary">Mahmoud Husary</option>
                    <option value="ar.minshawi">Mohamed Minshawi</option>
                    <option value="ar.abdulbasit">Abdul Basit</option>
                </select>
            </div>

            <div class="form-group full">
                <label for="translation">Translation:</label>
                <select id="translation">
                    <option value="en.sahih">English</option>
                    <option value="fr.hamidullah">French</option>
                    <option value="ur.jalandhry">Urdu</option>
                </select>
            </div>
        </div>

        <button onclick="generateVideo()" id="generateBtn">üé¨ Generate Video</button>

        <div id="status"></div>
        <canvas id="canvas" width="1080" height="1920"></canvas>
    </div>

    <script>
        let isGenerating = false;

        async function generateVideo() {
            if (isGenerating) return;
            
            const statusDiv = document.getElementById('status');
            const btn = document.getElementById('generateBtn');
            
            isGenerating = true;
            btn.disabled = true;
            statusDiv.style.display = 'block';
            statusDiv.innerHTML = `
                <h3>‚è≥ Generating Video...</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill">0%</div>
                </div>
                <p id="statusText">Fetching Quran data...</p>
            `;

            try {
                const surah = document.getElementById('surah').value;
                const ayahFrom = parseInt(document.getElementById('ayahFrom').value);
                const ayahTo = parseInt(document.getElementById('ayahTo').value);
                const reciter = document.getElementById('reciter').value;
                const translation = document.getElementById('translation').value;

                updateProgress(10, 'Downloading audio and text...');

                // Fetch Quran data
                const arabicUrl = `https://api.alquran.cloud/v1/surah/${surah}/${reciter}`;
                const translationUrl = `https://api.alquran.cloud/v1/surah/${surah}/${translation}`;

                const [arabicRes, transRes] = await Promise.all([
                    fetch(arabicUrl),
                    fetch(translationUrl)
                ]);

                const arabicData = await arabicRes.json();
                const transData = await transRes.json();

                updateProgress(30, 'Processing ayahs...');

                const ayahs = [];
                for (let i = ayahFrom - 1; i < Math.min(ayahTo, arabicData.data.ayahs.length); i++) {
                    ayahs.push({
                        arabic: arabicData.data.ayahs[i].text,
                        translation: transData.data.ayahs[i].text,
                        audio: arabicData.data.ayahs[i].audio,
                        number: arabicData.data.ayahs[i].numberInSurah
                    });
                }

                updateProgress(50, 'Creating video frames...');

                // Create simple slideshow
                const canvas = document.getElementById('canvas');
                const ctx = canvas.getContext('2d');
                
                // Draw background gradient
                const gradient = ctx.createLinearGradient(0, 0, 0, 1920);
                gradient.addColorStop(0, '#1e3c72');
                gradient.addColorStop(1, '#2a5298');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, 1080, 1920);

                updateProgress(70, 'Adding text and subtitles...');

                // Draw first ayah as preview
                ctx.fillStyle = 'white';
                ctx.font = 'bold 48px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('ÿ®Ÿêÿ≥ŸíŸÖŸê ÿßŸÑŸÑŸéŸëŸáŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸíŸÖŸéŸ∞ŸÜŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸêŸäŸÖŸê', 540, 200);

                ctx.font = '36px Arial';
                const words = ayahs[0].arabic.split(' ');
                let y = 400;
                for (let i = 0; i < words.length; i += 3) {
                    const line = words.slice(i, i + 3).join(' ');
                    ctx.fillText(line, 540, y);
                    y += 60;
                }

                ctx.font = '28px Arial';
                ctx.fillStyle = '#e0e0e0';
                y += 100;
                const transWords = ayahs[0].translation.split(' ');
                for (let i = 0; i < transWords.length; i += 6) {
                    const line = transWords.slice(i, i + 6).join(' ');
                    ctx.fillText(line, 540, y);
                    y += 50;
                }

                updateProgress(90, 'Finalizing...');

                // Convert canvas to image
                canvas.toBlob((blob) => {
                    const url = URL.createObjectURL(blob);
                    
                    updateProgress(100, 'Video ready!');
                    
                    statusDiv.innerHTML += `
                        <div class="video-preview">
                            <h3>‚úÖ Preview Generated!</h3>
                            <p><strong>Note:</strong> This is a static image preview. Full video generation with audio requires server-side processing.</p>
                            <img src="${url}" style="max-width: 100%; border-radius: 10px; margin: 20px 0;">
                            <br>
                            <button class="download-btn" onclick="downloadPreview('${url}')">üì• Download Preview Image</button>
                            <br><br>
                            <p style="color: #666; margin-top: 20px;">
                                <strong>üí° Want full videos with audio?</strong><br>
                                Use the desktop Windows app from this repository for complete video generation.
                            </p>
                        </div>
                    `;
                    
                    isGenerating = false;
                    btn.disabled = false;
                }, 'image/png');

            } catch (error) {
                statusDiv.innerHTML = `
                    <div style="color: #d32f2f; padding: 20px;">
                        <strong>‚ùå Error:</strong> ${error.message}
                        <br><br>
                        Please check your internet connection and try again.
                    </div>
                `;
                isGenerating = false;
                btn.disabled = false;
            }
        }

        function updateProgress(percent, text) {
            const fill = document.getElementById('progressFill');
            const statusText = document.getElementById('statusText');
            if (fill) fill.style.width = percent + '%';
            if (fill) fill.textContent = percent + '%';
            if (statusText) statusText.textContent = text;
        }

        function downloadPreview(url) {
            const a = document.createElement('a');
            a.href = url;
            a.download = 'quran-preview.png';
            a.click();
        }
    </script>
</body>
</html>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: border 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 30px;
        }

        button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #666;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        #result {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            display: none;
        }

        .ayah-card {
            background: white;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .arabic {
            font-size: 24px;
            text-align: right;
            direction: rtl;
            line-height: 1.8;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .translation {
            font-size: 16px;
            color: #555;
            line-height: 1.6;
        }

        .ayah-number {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 4px 10px;
            border-radius: 5px;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #667eea;
            font-size: 18px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .audio-player {
            margin-top: 15px;
            width: 100%;
        }

        .info-box {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #2196f3;
        }

        .info-box strong {
            color: #1976d2;
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 2em;
            }
            
            .button-group {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìñ Quran Reader</h1>
        <p class="subtitle">Read and listen to the Holy Quran with translations</p>

        <div class="info-box">
            <strong>üì± Simple & Fast:</strong> No installation needed! Select a Surah and language to read with audio.
        </div>

        <div class="form-group">
            <label for="surah">Select Surah:</label>
            <select id="surah">
                <option value="1">1. Al-Fatihah (The Opening)</option>
                <option value="2">2. Al-Baqarah (The Cow)</option>
                <option value="3">3. Al-Imran (The Family of Imran)</option>
                <option value="18">18. Al-Kahf (The Cave)</option>
                <option value="36">36. Ya-Sin</option>
                <option value="55">55. Ar-Rahman (The Most Merciful)</option>
                <option value="67">67. Al-Mulk (The Kingdom)</option>
                <option value="78">78. An-Naba (The News)</option>
                <option value="112">112. Al-Ikhlas (The Sincerity)</option>
                <option value="113">113. Al-Falaq (The Daybreak)</option>
                <option value="114">114. An-Nas (Mankind)</option>
            </select>
        </div>

        <div class="form-group">
            <label for="reciter">Select Reciter:</label>
            <select id="reciter">
                <option value="ar.alafasy">Mishary Alafasy</option>
                <option value="ar.husary">Mahmoud Husary</option>
                <option value="ar.minshawi">Mohamed Minshawi</option>
                <option value="ar.abdulbasit">Abdul Basit</option>
            </select>
        </div>

        <div class="form-group">
            <label for="translation">Translation Language:</label>
            <select id="translation">
                <option value="en.sahih">English (Sahih International)</option>
                <option value="fr.hamidullah">French</option>
                <option value="ur.jalandhry">Urdu</option>
                <option value="tr.diyanet">Turkish</option>
                <option value="id.indonesian">Indonesian</option>
                <option value="bn.bengali">Bengali</option>
            </select>
        </div>

        <div class="form-group">
            <label for="ayahFrom">From Ayah:</label>
            <input type="number" id="ayahFrom" value="1" min="1">
        </div>

        <div class="form-group">
            <label for="ayahTo">To Ayah:</label>
            <input type="number" id="ayahTo" value="7" min="1">
        </div>

        <div class="button-group">
            <button class="btn-primary" onclick="loadQuran()">üìñ Load Quran</button>
            <button class="btn-secondary" onclick="clearResult()">üîÑ Clear</button>
        </div>

        <div id="result"></div>
    </div>

    <script>
        async function loadQuran() {
            const surah = document.getElementById('surah').value;
            const reciter = document.getElementById('reciter').value;
            const translation = document.getElementById('translation').value;
            const ayahFrom = parseInt(document.getElementById('ayahFrom').value);
            const ayahTo = parseInt(document.getElementById('ayahTo').value);
            const resultDiv = document.getElementById('result');

            if (ayahFrom > ayahTo) {
                alert('From Ayah must be less than or equal to To Ayah');
                return;
            }

            resultDiv.innerHTML = '<div class="loading"><div class="spinner"></div>Loading Quran...</div>';
            resultDiv.style.display = 'block';

            try {
                // Fetch Arabic with audio
                const arabicUrl = `https://api.alquran.cloud/v1/surah/${surah}/${reciter}`;
                const arabicResponse = await fetch(arabicUrl);
                const arabicData = await arabicResponse.json();

                // Fetch translation
                const translationUrl = `https://api.alquran.cloud/v1/surah/${surah}/${translation}`;
                const translationResponse = await fetch(translationUrl);
                const translationData = await translationResponse.json();

                if (arabicData.code !== 200 || translationData.code !== 200) {
                    throw new Error('Failed to fetch Quran data');
                }

                let html = `<h2>Surah ${arabicData.data.englishName}</h2>`;
                html += `<p style="color: #666; margin-bottom: 20px;">ÿ®Ÿêÿ≥ŸíŸÖŸê ÿßŸÑŸÑŸéŸëŸáŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸíŸÖŸéŸ∞ŸÜŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸêŸäŸÖŸê</p>`;

                const ayahs = arabicData.data.ayahs;
                const translations = translationData.data.ayahs;

                for (let i = ayahFrom - 1; i < Math.min(ayahTo, ayahs.length); i++) {
                    const ayah = ayahs[i];
                    const trans = translations[i];

                    html += `
                        <div class="ayah-card">
                            <span class="ayah-number">Ayah ${ayah.numberInSurah}</span>
                            <div class="arabic">${ayah.text}</div>
                            <div class="translation">${trans.text}</div>
                            ${ayah.audio ? `<audio controls class="audio-player" src="${ayah.audio}"></audio>` : ''}
                        </div>
                    `;
                }

                resultDiv.innerHTML = html;
            } catch (error) {
                resultDiv.innerHTML = `
                    <div style="color: #d32f2f; padding: 20px; text-align: center;">
                        <strong>Error:</strong> ${error.message}
                        <br><br>
                        Please check your internet connection and try again.
                    </div>
                `;
            }
        }

        function clearResult() {
            document.getElementById('result').style.display = 'none';
            document.getElementById('result').innerHTML = '';
        }

        // Add more surahs dynamically
        window.addEventListener('DOMContentLoaded', () => {
            const surahSelect = document.getElementById('surah');
            const surahs = [
                {num: 1, name: "Al-Fatihah (The Opening)"},
                {num: 2, name: "Al-Baqarah (The Cow)"},
                {num: 3, name: "Al-Imran (The Family of Imran)"},
                {num: 4, name: "An-Nisa (The Women)"},
                {num: 5, name: "Al-Ma'idah (The Table)"},
                {num: 6, name: "Al-An'am (The Cattle)"},
                {num: 7, name: "Al-A'raf (The Heights)"},
                {num: 8, name: "Al-Anfal (The Spoils of War)"},
                {num: 9, name: "At-Tawbah (The Repentance)"},
                {num: 10, name: "Yunus (Jonah)"},
                {num: 11, name: "Hud"},
                {num: 12, name: "Yusuf (Joseph)"},
                {num: 18, name: "Al-Kahf (The Cave)"},
                {num: 19, name: "Maryam (Mary)"},
                {num: 20, name: "Ta-Ha"},
                {num: 32, name: "As-Sajdah (The Prostration)"},
                {num: 36, name: "Ya-Sin"},
                {num: 44, name: "Ad-Dukhan (The Smoke)"},
                {num: 48, name: "Al-Fath (The Victory)"},
                {num: 55, name: "Ar-Rahman (The Most Merciful)"},
                {num: 56, name: "Al-Waqi'ah (The Event)"},
                {num: 67, name: "Al-Mulk (The Kingdom)"},
                {num: 73, name: "Al-Muzzammil (The Wrapped)"},
                {num: 78, name: "An-Naba (The News)"},
                {num: 110, name: "An-Nasr (The Help)"},
                {num: 111, name: "Al-Masad (The Palm Fiber)"},
                {num: 112, name: "Al-Ikhlas (The Sincerity)"},
                {num: 113, name: "Al-Falaq (The Daybreak)"},
                {num: 114, name: "An-Nas (Mankind)"}
            ];

            surahSelect.innerHTML = '';
            surahs.forEach(s => {
                const option = document.createElement('option');
                option.value = s.num;
                option.textContent = `${s.num}. ${s.name}`;
                surahSelect.appendChild(option);
            });
        });
    </script>
</body>
</html>